{
  "blocks": [
    {
      "block_no": 0,
      "line_number_start": 181,
      "line_number_end": 187,
      "code": "        // Update highlighted segment when cursor position changes\n        vscode.window.onDidChangeTextEditorSelection((event) => {\n            if (event.textEditor === vscode.window.activeTextEditor) {\n                this._updateHighlightedSegment();\n            }\n        });\n",
      "timestamp": "2025-12-27T23:44:24.321Z",
      "file": "/Users/swarit-dev/voight/src/ui/segmentsWebviewProvider.ts"
    },
    {
      "block_no": 1,
      "line_number_start": 240,
      "line_number_end": 270,
      "code": "     * Update the highlighted segment based on cursor position\n     */\n    private _updateHighlightedSegment() {\n        if (!this._view) {\n            return;\n        }\n\n        const activeEditor = vscode.window.activeTextEditor;\n        if (!activeEditor) {\n            return;\n        }\n\n        const cursorLine = activeEditor.selection.active.line;\n        const filePath = activeEditor.document.fileName;\n\n        // Find which segment contains the cursor\n        const blocks = this._blockManager.getAllBlocks();\n        const currentSegment = blocks.find(block =>\n            block.filePath === filePath &&\n            cursorLine >= block.startLine &&\n            cursorLine <= block.endLine\n        );\n\n        // Send the highlighted segment ID to webview\n        this._view.webview.postMessage({\n            command: 'highlightSegment',\n            segmentId: currentSegment?.id || null\n        });\n    }\n\n    /**",
      "timestamp": "2025-12-27T23:44:42.186Z",
      "file": "/Users/swarit-dev/voight/src/ui/segmentsWebviewProvider.ts"
    },
    {
      "block_no": 2,
      "line_number_start": 45,
      "line_number_end": 48,
      "code": "\n            case 'highlightSegment':\n                highlightSegmentById(message.segmentId);\n                break;",
      "timestamp": "2025-12-27T23:45:01.019Z",
      "file": "/Users/swarit-dev/voight/webview-ui/src/segments.js"
    },
    {
      "block_no": 3,
      "line_number_start": 455,
      "line_number_end": 472,
      "code": "     * Highlight a segment by ID (called when cursor is in that segment's code)\n     */\n    function highlightSegmentById(segmentId) {\n        // Remove highlight from all segments\n        document.querySelectorAll('.segment-card').forEach(card => {\n            card.classList.remove('selected');\n        });\n\n        // Add highlight to the specified segment\n        if (segmentId) {\n            const card = document.querySelector(`.segment-card[data-segment-id=\"${segmentId}\"]`);\n            if (card) {\n                card.classList.add('selected');\n            }\n        }\n    }\n\n    /**",
      "timestamp": "2025-12-27T23:45:18.593Z",
      "file": "/Users/swarit-dev/voight/webview-ui/src/segments.js"
    },
    {
      "block_no": 4,
      "line_number_start": 233,
      "line_number_end": 234,
      "code": "/* Subtle highlight for selected segments (cursor is in this code) based on complexity */\n.segment-card.selected[data-complexity=\"low\"] {",
      "timestamp": "2025-12-27T23:45:44.940Z",
      "file": "/Users/swarit-dev/voight/src/webview-ui/styles/base/segments.css"
    },
    {
      "block_no": 6,
      "line_number_start": 242,
      "line_number_end": 242,
      "code": ".segment-card.selected[data-complexity=\"medium\"] {",
      "timestamp": "2025-12-27T23:45:44.940Z",
      "file": "/Users/swarit-dev/voight/src/webview-ui/styles/base/segments.css"
    },
    {
      "block_no": 8,
      "line_number_start": 250,
      "line_number_end": 250,
      "code": ".segment-card.selected[data-complexity=\"high\"] {",
      "timestamp": "2025-12-27T23:45:44.940Z",
      "file": "/Users/swarit-dev/voight/src/webview-ui/styles/base/segments.css"
    },
    {
      "block_no": 10,
      "line_number_start": 258,
      "line_number_end": 258,
      "code": ".segment-card.selected[data-complexity=\"unknown\"] {",
      "timestamp": "2025-12-27T23:45:44.940Z",
      "file": "/Users/swarit-dev/voight/src/webview-ui/styles/base/segments.css"
    }
  ],
  "metadata": {
    "session": "2025-12-27T23-42-46-923Z",
    "totalBlocks": 8,
    "lastUpdated": "2025-12-27T23:45:44.944Z"
  }
}